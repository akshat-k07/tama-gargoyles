<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
<head>
    <meta charset="UTF-8">
    <title>Tama Gargoyles</title>

    <link rel="stylesheet" th:href="@{/css/general.css}" />
</head>
<body>

<!-- ======================================================
     TOP HUD (MATCHES GAME PAGE)
     ====================================================== -->
<header class="hud-top hud-top--index">
    <div class="hud-top__left">
        <h1 class="game-title">Tama Gargoyles</h1>
    </div>

    <div class="hud-top__right">

        <!-- NOT LOGGED IN -->
        <div sec:authorize="isAnonymous()">
            <p class="hud-muted">You are not logged in.</p>
            <button class="btn"
                    onclick="window.location.href='/oauth2/authorization/auth0'">
                Log in with Auth0
            </button>
        </div>

        <!-- LOGGED IN -->
        <div sec:authorize="isAuthenticated()">
            <div class="greeting">
                Logged in as
                <strong>
                    <span sec:authentication="principal.attributes['email']"></span>
                </strong>
            </div>

            <div class="hud-actions">
                <button class="btn"
                        onclick="window.location.href='/game'">
                    Go to Game
                </button>

                <form th:action="@{/logout}" method="post">
                    <button type="submit" class="btn">
                        Logout
                    </button>
                </form>
            </div>
        </div>

    </div>
</header>

<!-- ======================================================
     GAME RULES / CONTENT
     ====================================================== -->

<div class="panel">

    <h2>ğŸ® Game Rules</h2>
    <hr>

    <h3>ğŸ¥š Starting the Game</h3>
    <ul>
        <li>When you start, you receive an egg</li>
        <li>The egg hatches and you name your Tama-Gargoyle</li>
        <li>Once named, it becomes your responsibility to care for it</li>
    </ul>

    <hr>

    <h3>â±ï¸ Time & Needs</h3>
    <ul>
        <li>As time passes, your Tama-Gargoyle:</li>
        <ul>
            <li>Gets hungrier</li>
            <li>Loses happiness</li>
        </ul>
        <li>If hunger stays too low:</li>
        <ul>
            <li>Happiness decreases faster</li>
        </ul>
        <li>If happiness and hunger are neglected:</li>
        <ul>
            <li>Health will decrease</li>
        </ul>
        <li>If health reaches 0:</li>
        <ul>
            <li>ğŸ’€ Your Tama-Gargoyle dies</li>
        </ul>
    </ul>

    <hr>

    <h3>ğŸ Feeding</h3>

    <p>You have limited food.</p>
    
    <p>The food you give your Tama-Gargoyle affects how it evolves:</p>

    <table>
        <tr>
            <th>Food</th>
            <th>Effect</th>
        </tr>
        <tr>
            <td>ğŸª¨ Rocks</td>
            <td>Increases Strength, lowers Speed & Intelligence</td>
        </tr>
        <tr>
            <td>ğŸ› Bugs</td>
            <td>Increases Speed, lowers Strength & Intelligence</td>
        </tr>
        <tr>
            <td>ğŸ Fruit</td>
            <td>Increases Intelligence, lowers Strength & Speed</td>
        </tr>
        <tr>
            <td>â“ Mystery Food</td>
            <td>Random effects â€” good or bad</td>
        </tr>
    </table>

    

    <hr>

    <h3>ğŸ² Playing Games</h3>
    <ul>
        <li>Playing increases skills:</li>
        <ul>
            <li>ğŸ’ª Strength games â†’ Strength</li>
            <li>âš¡ Speed games â†’ Speed</li>
            <li>ğŸ§  Intelligence games â†’ Intelligence</li>
        </ul>
        <li>If you donâ€™t play enough, your gargoyle may grow up bad</li>
    </ul>

    <hr>

    <h3>ğŸ§¬ Growth & Evolution</h3>
    <ul>
        <li>With good care, your Tama-Gargoyle grows into an adult</li>
        <li>Its strongest stat influences its evolution type</li>
        <li>Adults can be:</li>
        <ul>
            <li>Good (obedient)</li>
            <li>Bad (may disobeyâ€¦ sometimes helpfully!)</li>
        </ul>
    </ul>

    <hr>

    <h3>âš”ï¸ Battle Mode</h3>
    <ul>
        <li>Adult gargoyles may battle opponents with unknown stats</li>
        <li>Battles are turn-based, card-style</li>
    </ul>

    <p>Battle Rules (Rock-Paper-Scissors Logic):</p>
    <ul>
        <li>ğŸ’ª Strength beats âš¡ Speed</li>
        <li>âš¡ Speed beats ğŸ§  Intelligence</li>
        <li>ğŸ§  Intelligence beats ğŸ’ª Strength</li>
    </ul>

    <p>If both players choose the same type:</p>
    <ul>
        <li>The higher stat wins</li>
    </ul>

    <p>Battle Outcomes:</p>
    <ul>
        <li>Win â†’ ğŸ 10 random special foods</li>
        <li>Lose â†’ â¤ï¸ Health drops by 20%, receive 2 special foods</li>
    </ul>

    Good Luck!

</div>

</body>
</html>
