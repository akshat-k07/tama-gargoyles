<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
<head>
    <meta charset="UTF-8">
    <title>Tama Gargoyles</title>

    <link rel="stylesheet" th:href="@{/css/general.css}" />
</head>
<body>

<!-- ======================================================
     TOP HUD (MATCHES GAME PAGE)
     ====================================================== -->
<header class="hud-top hud-top--index">
    <div class="hud-top__left">
        <h1 class="game-title">Tama Gargoyles</h1>
    </div>

    <div class="hud-top__right">

        <!-- NOT LOGGED IN -->
        <div sec:authorize="isAnonymous()">
            <p class="hud-muted">You are not logged in.</p>
            <button class="btn"
                    onclick="window.location.href='/oauth2/authorization/auth0'">
                Log in with Auth0
            </button>
        </div>

        <!-- LOGGED IN -->
        <div sec:authorize="isAuthenticated()">
            <div class="greeting">
                Logged in as
                <strong>
                    <span sec:authentication="principal.attributes['email']"></span>
                </strong>
            </div>

            <div class="hud-actions">
                <button class="btn"
                        onclick="window.location.href='/game'">
                    Go to Game
                </button>

                <form th:action="@{/logout}" method="post">
                    <button type="submit" class="btn">
                        Logout
                    </button>
                </form>
            </div>
        </div>

    </div>
</header>

<!-- ======================================================
     GAME RULES / CONTENT
     ====================================================== -->

<div class="panel">

    <h3>ğŸ® Game Rules</h3>
    <hr>

    <h4>ğŸ¥š Starting the Game</h4>
    <ul>
        <li>When you start, you receive an <b>egg</b></li>
        <li>The egg hatches and you <b>name your Tama-Gargoyle</b></li>
        <li>Once named, it becomes <i>your responsibility</i> to care for it</li>
    </ul>

    <hr>

    <h4>â±ï¸ Time & Needs</h4>
    <ul>
        <li>As <b>time passes</b>, your Tama-Gargoyle:</li>
        <ul>
            <li>Gets <b>hungrier</b></li>
            <li>Loses <b>happiness</b></li>
        </ul>
        <li>If hunger stays too low:</li>
        <ul>
            <li>Happiness decreases <b>faster</b></li>
        </ul>
        <li>If happiness and hunger are neglected:</li>
        <ul>
            <li><b>Health will decrease</b></li>
        </ul>
        <li>If health reaches 0:</li>
        <ul>
            <li>ğŸ’€ Your Tama-Gargoyle dies</li>
        </ul>
    </ul>

    <hr>

    <h4>ğŸ Feeding</h4>
    <p>The food you give your Tama-Gargoyle affects how it evolves:</p>

    <table>
        <tr>
            <th>Food</th>
            <th>Effect</th>
        </tr>
        <tr>
            <td>ğŸª¨ Rocks</td>
            <td>Increases <b>Strength</b>, lowers Speed & Intelligence</td>
        </tr>
        <tr>
            <td>ğŸ› Bugs</td>
            <td>Increases <b>Speed</b>, lowers Strength & Intelligence</td>
        </tr>
        <tr>
            <td>ğŸ Fruit</td>
            <td>Increases <b>Intelligence</b>, lowers Strength & Speed</td>
        </tr>
        <tr>
            <td>â“ Mystery Food</td>
            <td>Random effects â€” good or bad</td>
        </tr>
    </table>

    <p><b>You have limited food.</b></p>

    <hr>

    <h4>ğŸ² Playing Games</h4>
    <ul>
        <li>Playing increases skills:</li>
        <ul>
            <li>ğŸ’ª Strength games â†’ Strength</li>
            <li>âš¡ Speed games â†’ Speed</li>
            <li>ğŸ§  Intelligence games â†’ Intelligence</li>
        </ul>
        <li>If you <b>donâ€™t play enough</b>, your gargoyle may grow up <b>bad</b></li>
    </ul>

    <hr>

    <h4>ğŸ§¬ Growth & Evolution</h4>
    <ul>
        <li>With good care, your Tama-Gargoyle grows into an <b>adult</b></li>
        <li>Its <b>strongest stat</b> influences its evolution type</li>
        <li>Adults can be:</li>
        <ul>
            <li><b>Good</b> (obedient)</li>
            <li><b>Bad</b> (may disobeyâ€¦ sometimes helpfully!)</li>
        </ul>
    </ul>

    <hr>

    <h4>âš”ï¸ Battle Mode</h4>
    <ul>
        <li>Adult gargoyles may battle opponents with <b>unknown stats</b></li>
        <li>Battles are <b>turn-based</b>, card-style</li>
    </ul>

    <p><b>Battle Rules (Rock-Paper-Scissors Logic):</b></p>
    <ul>
        <li>ğŸ’ª Strength beats âš¡ Speed</li>
        <li>âš¡ Speed beats ğŸ§  Intelligence</li>
        <li>ğŸ§  Intelligence beats ğŸ’ª Strength</li>
    </ul>

    <p>If both players choose the same type:</p>
    <ul>
        <li>The <b>higher stat wins</b></li>
    </ul>

    <p><b>Battle Outcomes:</b></p>
    <ul>
        <li>Win â†’ ğŸ 10 random <b>special foods</b></li>
        <li>Lose â†’ â¤ï¸ Health drops by 20%, receive <b>2 special foods</b></li>
    </ul>

    <h2>Good Luck!</h2>

</div>

</body>
</html>
